

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cometspy auto-generated API &mdash; cometspy 0.0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="cometspy 0.0.1 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> cometspy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <!-- Local TOC -->
                <div class="local-toc"><ul>
<li><a class="reference internal" href="#">cometspy auto-generated API</a><ul>
<li><a class="reference internal" href="#the-model-class">The <code class="docutils literal notranslate"><span class="pre">model</span></code> class</a></li>
<li><a class="reference internal" href="#the-layout-class">The <code class="docutils literal notranslate"><span class="pre">layout</span></code> class</a></li>
<li><a class="reference internal" href="#the-params-class">The <code class="docutils literal notranslate"><span class="pre">params</span></code> class</a></li>
<li><a class="reference internal" href="#the-comets-class">The <code class="docutils literal notranslate"><span class="pre">comets</span></code> class</a></li>
<li><a class="reference internal" href="#the-utils-class">The <code class="docutils literal notranslate"><span class="pre">utils</span></code> class</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">cometspy</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>cometspy auto-generated API</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/cometspy_BACKUP.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cometspy-auto-generated-api">
<h1>cometspy auto-generated API<a class="headerlink" href="#cometspy-auto-generated-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-model-class">
<h2>The <code class="docutils literal notranslate"><span class="pre">model</span></code> class<a class="headerlink" href="#the-model-class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="cometspy.model">
<em class="property">class </em><code class="descclassname">cometspy.</code><code class="descname">model</code><span class="sig-paren">(</span><em><span class="n">model</span><span class="p">:</span> <span class="n">cobra.core.model.Model</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>a COMETS metabolic model to use in a layout</p>
<p>A model contains information including the stoichiometric matrix,
reaction boundaries and Michaelis-Menten parameters, founder populations,
and various attributes related to motion in space.</p>
<p>A model is usually initiated by supplying a cobrapy model, and to be used
in a COMETS simulation must minimally be given an initial population:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>model</strong><span class="classifier">cobra.Model or str, optional</span></dt><dd><p>Either a cobrapy Model, a path to a .cmd COMETS model, a path to a
cobra sbml model which could be loaded with cobra.io.read_sbml_model()
or None.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cobra.test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cometspy</span> <span class="k">as</span> <span class="nn">c</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ecoli</span> <span class="o">=</span> <span class="n">cobra</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">create_test_model</span><span class="p">(</span><span class="s2">&quot;ecoli&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="n">ecoli</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">initial_pop</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.e-12</span><span class="p">]</span> <span class="c1"># puts 1.e-12 gDW of biomass at 0,0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="go">iJO1366</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>initial_pop</strong><span class="classifier">list</span></dt><dd><p>list of lists of spatial founder pops. e.g.[[x, y, grams], [x,y,grams]]</p>
</dd>
<dt><strong>id</strong><span class="classifier">str</span></dt><dd><p>the name of the model. should be unique.</p>
</dd>
<dt><strong>reactions</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>DataFrame containing reaction information including boundaries.</p>
</dd>
<dt><strong>smat</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>DataFrame containing the stoichiometric matrix</p>
</dd>
<dt><strong>metabolites</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>single-column DataFrame containing the names of the metabolites</p>
</dd>
<dt><strong>signals</strong><span class="classifier">pandas.Dataframe</span></dt><dd><p>DataFrame on reactions whose bounds depend on metabolite concentrations</p>
</dd>
<dt><strong>default_vmax</strong><span class="classifier">float</span></dt><dd><p>default uptake vmax in mmol / gDW /hr for Michaelis-Menten kinetics</p>
</dd>
<dt><strong>default_km</strong><span class="classifier">float</span></dt><dd><p>default half-max metabolite concentration (M) for M-M kinetics</p>
</dd>
<dt><strong>default_hill</strong><span class="classifier">float</span></dt><dd><p>default hill coefficient for hill-like uptake kinetics</p>
</dd>
<dt><strong>default_bounds</strong><span class="classifier">list</span></dt><dd><p>list of two floats that are the default lower and upper reaction bounds</p>
</dd>
<dt><strong>obj_style</strong><span class="classifier">str</span></dt><dd><p>one of MAXIMIZE_OBJECTIVE_FLUX (fba) or MAX_OBJECTIVE_MIN_TOTAL (pfba)</p>
</dd>
<dt><strong>optimizer</strong><span class="classifier">str</span></dt><dd><p>one of “GUROBI” or “GLPK”. not all functionality works with GLPK</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
</tbody>
</table>
<dl class="py method">
<dt id="cometspy.model.add_convection_parameters">
<code class="descname">add_convection_parameters</code><span class="sig-paren">(</span><em><span class="n">packedDensity</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em>, <em><span class="n">elasticModulus</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em>, <em><span class="n">frictionConstant</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em>, <em><span class="n">convDiffConstant</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.add_convection_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the parameters for biomass spread to use convection</p>
<p>This also requires one set the biomassMotionStyle to 
‘Convection 2D’ in the comets.params object (see Example)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>packedDensity</strong><span class="classifier">float, optional</span></dt><dd></dd>
<dt><strong>elasticModulus</strong><span class="classifier">float, optional</span></dt><dd></dd>
<dt><strong>frictionConstant</strong><span class="classifier">float, optional</span></dt><dd></dd>
<dt><strong>convDiffConstant</strong><span class="classifier">float, optional</span></dt><dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.add_light">
<code class="descname">add_light</code><span class="sig-paren">(</span><em><span class="n">reaction</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">abs_coefficient</span><span class="p">:</span> <span class="n">float</span></em>, <em><span class="n">abs_base</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.add_light" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes a reaction to function in response to light</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>reaction</strong><span class="classifier">str</span></dt><dd><p>the name of the reaction affected</p>
</dd>
<dt><strong>abs_coefficient</strong><span class="classifier">float</span></dt><dd><p>the absorption coefficient</p>
</dd>
<dt><strong>abs_base</strong><span class="classifier">float</span></dt><dd><p>absorption baseline</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.add_neutral_drift_parameter">
<code class="descname">add_neutral_drift_parameter</code><span class="sig-paren">(</span><em><span class="n">neutralDriftSigma</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.add_neutral_drift_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the neutralDriftSigma parameter</p>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.add_noise_variance_parameter">
<code class="descname">add_noise_variance_parameter</code><span class="sig-paren">(</span><em><span class="n">noiseVariance</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.add_noise_variance_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the noise variance parameter</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>noiseVariance</strong><span class="classifier">float</span></dt><dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.add_nonlinear_diffusion_parameters">
<code class="descname">add_nonlinear_diffusion_parameters</code><span class="sig-paren">(</span><em><span class="n">zero</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em>, <em><span class="n">n</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em>, <em><span class="n">exponent</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em>, <em><span class="n">hilln</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">10.0</span></em>, <em><span class="n">hillk</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.9</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.add_nonlinear_diffusion_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the model to use non-linear diffusion biomass spread.</p>
<p>This also requires one set the biomassMotionStyle to 
‘ConvNonlin Diffusion 2D’ in the comets.params object (see Example)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>zero</strong><span class="classifier">float, optional</span></dt><dd></dd>
<dt><strong>n</strong><span class="classifier">float, optional</span></dt><dd></dd>
<dt><strong>exponent</strong><span class="classifier">float, optional</span></dt><dd></dd>
<dt><strong>hilln</strong><span class="classifier">float, optional</span></dt><dd></dd>
<dt><strong>hillk</strong><span class="classifier">float, optional</span></dt><dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.add_signal">
<code class="descname">add_signal</code><span class="sig-paren">(</span><em><span class="n">rxn_num</span></em>, <em><span class="n">exch_ind</span></em>, <em><span class="n">bound</span></em>, <em><span class="n">function</span></em>, <em><span class="n">parms</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.add_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a signal to the reaction rxn_num that changes bounds</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>rxn_num</strong><span class="classifier">int or ‘death’</span></dt><dd><p>reaction affected (int) or whether the signal causes death ‘death’</p>
</dd>
<dt><strong>exch_id</strong><span class="classifier">int</span></dt><dd><p>the number of the exchange reaction. see model.metabolites</p>
</dd>
<dt><strong>bound</strong><span class="classifier">str  ‘ub’ or ‘lb’</span></dt><dd><p>specifies whether the upper or lower bound is affected</p>
</dd>
<dt><strong>function</strong><span class="classifier">str ‘linear’ or ‘bounded_linear’ or ‘generalized_logistic’</span></dt><dd><p>specifies the function relating the metabolite conc. to the bound</p>
</dd>
<dt><strong>parms</strong><span class="classifier">list (float)</span></dt><dd><p>a list of floats for the function</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.change_bounds">
<code class="descname">change_bounds</code><span class="sig-paren">(</span><em><span class="n">reaction</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">lower_bound</span><span class="p">:</span> <span class="n">float</span></em>, <em><span class="n">upper_bound</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.change_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>changes the bounds of the specified reaction</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>reaction</strong><span class="classifier">str</span></dt><dd><p>the name of the reaction</p>
</dd>
<dt><strong>lower_bound</strong><span class="classifier">float</span></dt><dd><p>the new value of the reaction’s lower bound in mmol / gDW / hr</p>
</dd>
<dt><strong>upper_bound</strong><span class="classifier">float</span></dt><dd><p>the new value of the reaction’s upper bound in mmol / gDW / hr</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.change_hill">
<code class="descname">change_hill</code><span class="sig-paren">(</span><em><span class="n">reaction</span></em>, <em><span class="n">hill</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.change_hill" title="Permalink to this definition">¶</a></dt>
<dd><p>changes the hill coefficient of the specified reaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>reaction</strong><span class="classifier">str</span></dt><dd><p>the name of the reaction</p>
</dd>
<dt><strong>hill</strong><span class="classifier">float</span></dt><dd><p>the new hill coef. for the reaction, for Hill-like kinetics</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.change_km">
<code class="descname">change_km</code><span class="sig-paren">(</span><em><span class="n">reaction</span></em>, <em><span class="n">km</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.change_km" title="Permalink to this definition">¶</a></dt>
<dd><p>changes the km of the specified reaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>reaction</strong><span class="classifier">str</span></dt><dd><p>the name of the reaction</p>
</dd>
<dt><strong>km</strong><span class="classifier">float</span></dt><dd><p>the new km value for the reaction, for Monod (Michaelis-Menten)
kinetics</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.change_vmax">
<code class="descname">change_vmax</code><span class="sig-paren">(</span><em><span class="n">reaction</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">vmax</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.change_vmax" title="Permalink to this definition">¶</a></dt>
<dd><p>changes the vmax of the specified reaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>reaction</strong><span class="classifier">str</span></dt><dd><p>the name of the reaction</p>
</dd>
<dt><strong>vmax</strong><span class="classifier">float</span></dt><dd><p>the new vmax value for the reaction, for Monod (Michaelis-Menten)
kinetics</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.delete_comets_model">
<code class="descname">delete_comets_model</code><span class="sig-paren">(</span><em><span class="n">working_dir</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.delete_comets_model" title="Permalink to this definition">¶</a></dt>
<dd><p>deletes a file version of this model if it exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>working_dir</strong><span class="classifier">str, optional</span></dt><dd><p>the directory where the comets model file exists</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.ensure_sinks_are_not_exchanges">
<code class="descname">ensure_sinks_are_not_exchanges</code><span class="sig-paren">(</span><em><span class="n">suffix</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'_c'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.ensure_sinks_are_not_exchanges" title="Permalink to this definition">¶</a></dt>
<dd><p>set exchange reactions ending in suffix (default = ‘_c’) to sink</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>suffix</strong><span class="classifier">str, optional</span></dt><dd><p>the suffix to look for in exchange reactions. default = ‘_c’</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.get_bounds">
<code class="descname">get_bounds</code><span class="sig-paren">(</span><em><span class="n">reaction</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; tuple<a class="headerlink" href="#cometspy.model.get_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a tuple (lb, ub) for the specified reaction</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>reaction</strong><span class="classifier">str</span></dt><dd><p>the name of the reaction</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.get_exchange_metabolites">
<code class="descname">get_exchange_metabolites</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list<a class="headerlink" href="#cometspy.model.get_exchange_metabolites" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of the names of the exchange metabolites</p>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.get_reaction_names">
<code class="descname">get_reaction_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list<a class="headerlink" href="#cometspy.model.get_reaction_names" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of reaction names</p>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.load_cobra_model">
<code class="descname">load_cobra_model</code><span class="sig-paren">(</span><em><span class="n">curr_m</span><span class="p">:</span> <span class="n">cobra.core.model.Model</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.load_cobra_model" title="Permalink to this definition">¶</a></dt>
<dd><p>creates the COMETS model from the supplied cobra model</p>
<p>This is usually used internally when creating a COMETS model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>curr_m</strong><span class="classifier">cobra.Model</span></dt><dd><p>the cobra model object to be converted to the COMETS model object</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.open_exchanges">
<code class="descname">open_exchanges</code><span class="sig-paren">(</span><em><span class="n">lower_bound</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1000.0</span></em>, <em><span class="n">upper_bound</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1000.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.open_exchanges" title="Permalink to this definition">¶</a></dt>
<dd><p>sets all exchange boundaries to the specifed values</p>
<p>This method is useful when first making a COMETS model so that medium
definitions are not carried over from cobra into COMETS.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>lower_bound</strong><span class="classifier">float, optional</span></dt><dd><p>default = -1000.   in units of mmol / gDW / hr</p>
</dd>
<dt><strong>upper_bound</strong><span class="classifier">float, optional</span></dt><dd><p>default = 1000.    in units of mmol / gDW / hr</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.read_cobra_model">
<code class="descname">read_cobra_model</code><span class="sig-paren">(</span><em><span class="n">path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.read_cobra_model" title="Permalink to this definition">¶</a></dt>
<dd><p>reads a cobra model from a file and loads it into this model</p>
<p>This is an alternative way to initialize a COMETS model, by supplying
it with the path to a cobra model that can be read using
cobra.io.read_sbml_model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>path</strong><span class="classifier">str</span></dt><dd><p>path to a cobra model in sbml format</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.read_comets_model">
<code class="descname">read_comets_model</code><span class="sig-paren">(</span><em><span class="n">path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.read_comets_model" title="Permalink to this definition">¶</a></dt>
<dd><p>an alternative way to create a COMETS model by reading from a file</p>
<p>This allows a user to load previously-saved COMETS models. The 
contents populate this object’s attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>path</strong><span class="classifier">str</span></dt><dd><p>the path to the COMETS model file</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.model.write_comets_model">
<code class="descname">write_comets_model</code><span class="sig-paren">(</span><em><span class="n">working_dir</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.model.write_comets_model" title="Permalink to this definition">¶</a></dt>
<dd><p>writes the COMETS model object to a file</p>
<p>This writes the current model object in COMETS format to file, either
in the current working directory or in the directory specified by
the optional parameter working_dir.  It is mostly used by the comets
object to run simulations, though a user may with to write these to 
examine directly or to save.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>working_dir</strong><span class="classifier">str, optional</span></dt><dd><p>a directory path to put COMETS files.  for example “./data_files/”</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-layout-class">
<h2>The <code class="docutils literal notranslate"><span class="pre">layout</span></code> class<a class="headerlink" href="#the-layout-class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="cometspy.layout">
<em class="property">class </em><code class="descclassname">cometspy.</code><code class="descname">layout</code><span class="sig-paren">(</span><em><span class="n">input_obj</span><span class="p">:</span> <span class="n">list</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>object containing model and environmental definitions for a COMETS sim.</p>
<p>The layout object is an essential object needed to start a comets
simulation, along with a params object. For a simulation to run, the layout
must contain model(s). Typically, the layout will be created after
creating models, and these models will be given in a list during layout
creation. Subsequently, methods like 
set_specific_metabolite() will be used to create environmental media 
definitions.  Additionally, spatial information can be assigned, such as
the spatial dimensions in lattice units (layout.grid), spatial barriers,
etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>input_obj</strong><span class="classifier">list(cometspy.model) or str, optional</span></dt><dd><p>either a list of cometspy models, or a path to a previously-written
COMETS layout to load.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cometspy</span> <span class="k">as</span> <span class="nn">c</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cobra.test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e_cobra</span> <span class="o">=</span> <span class="n">cobra</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">create_test_model</span><span class="p">(</span><span class="s1">&#39;textbook&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="n">e_cobra</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">open_exchanges</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">layout</span><span class="p">([</span><span class="n">e</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># use the media from the textbook in the COMETS media</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">e_cobra</span><span class="o">.</span><span class="n">medium</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">l</span><span class="o">.</span><span class="n">set_specific_metabolite</span><span class="p">(</span><span class="n">key</span><span class="p">[</span><span class="mi">3</span><span class="p">:],</span> <span class="mf">10.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">display_current_media</span><span class="p">()</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>models</strong><span class="classifier">list(cometspy.model)</span></dt><dd><p>a list of cometspy models. do not modify directly. use add_model()</p>
</dd>
<dt><strong>grid</strong><span class="classifier">list of size two</span></dt><dd><p>the number of boxes in the x and y direction. default = [1, 1]</p>
</dd>
<dt><strong>media</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>info on met initial values and diffusion. see set_specific_metabolite</p>
</dd>
<dt><strong>refresh</strong><span class="classifier">list</span></dt><dd><p>info on met added per time. see set_specific_refresh</p>
</dd>
<dt><strong>local_media</strong><span class="classifier">dict</span></dt><dd><p>info on spatial-explicit media. see set_specific_metabolite_at_location</p>
</dd>
<dt><strong>local_refresh</strong><span class="classifier">dict</span></dt><dd><p>info on met added per time to loc. see set_specific_refresh_at_location</p>
</dd>
<dt><strong>local_static</strong><span class="classifier">dict</span></dt><dd><p>info on constant met value at loc. see set_specific_static_at_location</p>
</dd>
<dt><strong>default_diff_c</strong><span class="classifier">float</span></dt><dd><p>the baseline diffusion constant for all metabolites</p>
</dd>
<dt><strong>barriers</strong><span class="classifier">list(tuple)</span></dt><dd><p>list of impenetrable locations. see add_barriers</p>
</dd>
<dt><strong>region_map</strong><span class="classifier">numpy.array or None</span></dt><dd><p>integer array specifying regions. see set_region_map</p>
</dd>
<dt><strong>region_parameters</strong><span class="classifier">dict</span></dt><dd><p>region-specific default diffusion params. see set_region_parameters</p>
</dd>
<dt><strong>reactions</strong><span class="classifier">list</span></dt><dd><p>list of extracellular reactions. see add_external_reaction</p>
</dd>
<dt><strong>periodic_media</strong><span class="classifier">list</span></dt><dd><p>list of media undergoing periodic cycles. see set_global_periodic_media</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
</tbody>
</table>
<dl class="py method">
<dt id="cometspy.layout.add_barriers">
<code class="descname">add_barriers</code><span class="sig-paren">(</span><em><span class="n">barriers</span><span class="p">:</span> <span class="n">list</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.add_barriers" title="Permalink to this definition">¶</a></dt>
<dd><p>adds impenetrable barriers to the layout at specified locations</p>
<p>Barriers can be used in COMETS to create impenetrable spatial
locations, for example to simulate rocks or to make a rounded
simulation. Neither biomass nor metabolites can diffuse through
barriers.</p>
<p>In COMETS, locations are zero-ordered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>barriers</strong><span class="classifier">list(tuple)</span></dt><dd><p>A list containing tuples of integers of x,y locations.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># make a diagonal line of barriers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">layout</span><span class="p">([</span><span class="n">model1</span><span class="p">,</span> <span class="n">model2</span><span class="p">])</span> <span class="c1"># assumes model1,2 are made</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">add_barriers</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.add_external_reaction">
<code class="descname">add_external_reaction</code><span class="sig-paren">(</span><em><span class="n">rxnName</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">metabolites</span><span class="p">:</span> <span class="n">list</span></em>, <em><span class="n">stoichiometry</span><span class="p">:</span> <span class="n">list</span></em>, <em><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.add_external_reaction" title="Permalink to this definition">¶</a></dt>
<dd><p>adds an extracellular reaction to the layout</p>
<p>External reactions are reactions not tied to a growing (living) model.
They have rates defined in certain kwargs. There is no enyme
concentration; it is assumed fixed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>rxnName</strong><span class="classifier">str</span></dt><dd><p>name of the external reaction</p>
</dd>
<dt><strong>metabolites</strong><span class="classifier">list(str)</span></dt><dd><p>list of metabolite names (strs)</p>
</dd>
<dt><strong>stoichiometry</strong><span class="classifier">list(float)</span></dt><dd><p>stoichiometry of the metabolites. must be same order as metabolites</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">[‘Kcat’ or ‘Km’ or ‘K’]</span></dt><dd><p>rate parameters. Either Kcat and Km, or K must be set.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># set an external reaction that converts lactose into glucose + gal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># assumes import cometspy as c and a model called m has been made</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rxn_name</span> <span class="o">=</span> <span class="s1">&#39;lactase&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">metabolites</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lcts_e&#39;</span><span class="p">,</span> <span class="s1">&#39;glc__D_e&#39;</span><span class="p">,</span> <span class="s1">&#39;gal_e&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stoichiometry</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="c1"># mmol / hr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">layout</span><span class="p">([</span><span class="n">m</span><span class="p">])</span> <span class="c1"># m is a cometspy.model that has exchanges for the mets above</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">add_external_reaction</span><span class="p">(</span><span class="n">rxn_name</span><span class="p">,</span> <span class="n">metabolites</span><span class="p">,</span> <span class="n">stoichiometry</span><span class="p">,</span>
<span class="go">                            K = K)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.add_model">
<code class="descname">add_model</code><span class="sig-paren">(</span><em><span class="n">model</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.add_model" title="Permalink to this definition">¶</a></dt>
<dd><p>add a cometspy model to this layout</p>
<p>This is the preferred way to add models to existing layout.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>model</strong><span class="classifier">cometspy.model</span></dt><dd><p>a cometspy.model with an initial_pop</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cobra.test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cometspy</span> <span class="k">as</span> <span class="nn">c</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">layout</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ecoli</span> <span class="o">=</span> <span class="n">cobra</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">create_test_model</span><span class="p">(</span><span class="s2">&quot;ecoli&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">salmonella</span> <span class="o">=</span> <span class="n">cobra</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">create_test_model</span><span class="p">(</span><span class="s2">&quot;salmonella&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ecoli</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="n">ecoli</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">salmonella</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="n">salmonella</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ecoli</span><span class="o">.</span><span class="n">open_exchanges</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">salmonella</span><span class="o">.</span><span class="n">open_exchanges</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ecoli</span><span class="o">.</span><span class="n">initial_pop</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.e-7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">salmonella</span><span class="o">.</span><span class="n">initial_pop</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.e-7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">layout</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">ecoli</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">layout</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">salmonella</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.add_typical_trace_metabolites">
<code class="descname">add_typical_trace_metabolites</code><span class="sig-paren">(</span><em><span class="n">amount</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1000.0</span></em>, <em><span class="n">static</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.add_typical_trace_metabolites" title="Permalink to this definition">¶</a></dt>
<dd><p>adds common BIGG-style metabolites to the environment. This only 
works if your models use metabolites which are formatted like ‘ca2_e’
and then should still only be used as a starting point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>amount</strong><span class="classifier">float, optional</span></dt><dd><p>the amount, in mmol, of these metabolites. Default is 1000.0.</p>
</dd>
<dt><strong>static</strong><span class="classifier">bool, optional</span></dt><dd><p>The default is True. If false, these metabolites are depletable.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.delete_model_files">
<code class="descname">delete_model_files</code><span class="sig-paren">(</span><em><span class="n">working_dir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.delete_model_files" title="Permalink to this definition">¶</a></dt>
<dd><p>deletes model files in specified directory</p>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.display_current_media">
<code class="descname">display_current_media</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.display_current_media" title="Permalink to this definition">¶</a></dt>
<dd><p>a utility function to show current non-zero media amounts</p>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.get_model_ids">
<code class="descname">get_model_ids</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list<a class="headerlink" href="#cometspy.layout.get_model_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of the ids of the models in this layout.</p>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.read_comets_layout">
<code class="descname">read_comets_layout</code><span class="sig-paren">(</span><em><span class="n">input_obj</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.read_comets_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>load a comets layout from a file</p>
<p>If a COMETS layout file has been previously made, this function can
load that file into the current cometspy layout object.</p>
<p>This is an unusual way of working with cometspy with rare uses.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>input_obj</strong><span class="classifier">str</span></dt><dd><p>the path to the existing COMETS layout file to be loaded</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.set_global_periodic_media">
<code class="descname">set_global_periodic_media</code><span class="sig-paren">(</span><em><span class="n">metabolite</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">function</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">amplitude</span><span class="p">:</span> <span class="n">float</span></em>, <em><span class="n">period</span><span class="p">:</span> <span class="n">float</span></em>, <em><span class="n">phase</span><span class="p">:</span> <span class="n">float</span></em>, <em><span class="n">offset</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.set_global_periodic_media" title="Permalink to this definition">¶</a></dt>
<dd><p>set cyclical changes in extracellular nutrient environment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>metabolite</strong><span class="classifier">str</span></dt><dd><p>name of the metabolite under a cycle</p>
</dd>
<dt><strong>function</strong><span class="classifier">str, one of [‘step’, ‘sin’, ‘cos’, ‘half_sin’, ‘half_cos’]</span></dt><dd><p>name of function that defines changing metabolite concentration</p>
</dd>
<dt><strong>amplitude</strong><span class="classifier">float</span></dt><dd><p>amplitude of the function in mmol</p>
</dd>
<dt><strong>period</strong><span class="classifier">float</span></dt><dd><p>duration of the function period in hr</p>
</dd>
<dt><strong>phase</strong><span class="classifier">float</span></dt><dd><p>horizontal phase of the period (hr)</p>
</dd>
<dt><strong>offset</strong><span class="classifier">float</span></dt><dd><p>vertical offset of the function (mmol)</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.set_metabolite_diffusion">
<code class="descname">set_metabolite_diffusion</code><span class="sig-paren">(</span><em><span class="n">diffusion_constant</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.set_metabolite_diffusion" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the default diffusion constant for all metabolites</p>
<p>Specific diffusion constants can be set subsequent to setting this.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>diffusion_constant</strong><span class="classifier">float</span></dt><dd><p>the diffusion constant, in cm2 / s, that all metabolites use</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.set_region_map">
<code class="descname">set_region_map</code><span class="sig-paren">(</span><em><span class="n">region_map</span><span class="p">:</span> <span class="n">numpy.array</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.set_region_map" title="Permalink to this definition">¶</a></dt>
<dd><p>set a region_map dictating different regions in a spatial simulation</p>
<p>COMETS can have different regions with different substrate diffusivities
and frictions.  Here, you set the map defining the regions. Specifically,
you provide either:</p>
<blockquote>
<div><ol class="arabic simple">
<li>a numpy array whose shape == layout.grid, or</li>
<li>a list of lists whose first length is grid[0] and second len is grid[1]</li>
</ol>
</div></blockquote>
<p>Populating these objects should be integer values, beginning at 1 and
incrementing only, that define the different grid areas.  These are
intimately connected to region_parameters, which are set with
layout.set_region_parameters()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>region_map</strong><span class="classifier">numpy.array(int) or list(list)</span></dt><dd><p>a 2d array of size layout.grid containing integers, or a list of
lists which can be coerced to an integer array using np.array()</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>see set_region_parameters for an example</p>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.set_region_parameters">
<code class="descname">set_region_parameters</code><span class="sig-paren">(</span><em><span class="n">region</span><span class="p">:</span> <span class="n">int</span></em>, <em><span class="n">diffusion</span><span class="p">:</span> <span class="n">list</span></em>, <em><span class="n">friction</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.set_region_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>set regions-specific diffusion and friction values</p>
<p>COMETS can have different regions with different substrate 
diffusivities and frictions.  Here, you set those parameters.</p>
<p>This does not affect a simulation unless a region map is also set, 
using the layout.set_region_map() function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>region</strong><span class="classifier">int</span></dt><dd><p>the region (set by set_region_map) that uses the other parameters</p>
</dd>
<dt><strong>diffusion</strong><span class="classifier">list(float)</span></dt><dd><p>a list containing diffusion constants (cm2/s) for each metabolite</p>
</dd>
<dt><strong>friction</strong><span class="classifier">float</span></dt><dd><p>a single value for the friction observed in this region</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># this example assumes you have already created a cometspy model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># called &quot;e&quot; and have imported cometspy as c and numpy as np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Here we are making a 2x2 world with two regions in which region</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1 metabolites have diffusion constant 1.e-6 cm2/s and in region</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2 metabolites have diffusion constant 1.e-7 cm2/s, and in both</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># cases mets have default friction constant 1.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">layout</span><span class="p">([</span><span class="n">e</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">region_map</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">int</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">set_region_map</span><span class="p">(</span><span class="n">region_map</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_mets</span> <span class="o">=</span> <span class="n">length</span><span class="p">(</span><span class="n">l</span><span class="o">.</span><span class="n">media</span><span class="p">)</span> <span class="c1"># how many metabolites there are</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">set_region_parameters</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.e-6</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_mets</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">set_region_parameters</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.e-7</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_mets</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.set_specific_metabolite">
<code class="descname">set_specific_metabolite</code><span class="sig-paren">(</span><em><span class="n">met</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">amount</span><span class="p">:</span> <span class="n">float</span></em>, <em><span class="n">static</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.set_specific_metabolite" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the initial (or constant) value for a metabolite across space</p>
<p>This is the most common way to set a metabolite concentration. It 
sets the initial value of the named metabolite to ‘amount’ in every
location. Optionally, if static = True, this concentration is fixed
during the simulation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>met</strong><span class="classifier">str</span></dt><dd><p>name of the metabolite</p>
</dd>
<dt><strong>amount</strong><span class="classifier">float</span></dt><dd><p>initial value for the metabolite in each box, in mmol</p>
</dd>
<dt><strong>static</strong><span class="classifier">bool, optional</span></dt><dd><p>DEFAULT = False. If True, the ‘amount’ is fixed over time.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">layout</span><span class="p">([</span><span class="n">model</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">set_specific_metabolite</span><span class="p">(</span><span class="s2">&quot;glc__D_e&quot;</span><span class="p">,</span> <span class="mf">0.005</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">set_specific_metabolite</span><span class="p">(</span><span class="s2">&quot;o2_e&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="n">static</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># a common thing to do is populate this from the cobra model, as </span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># shown here:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cobra.test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cometspy</span> <span class="k">as</span> <span class="nn">c</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cobra_model</span> <span class="o">=</span> <span class="n">cobra</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">create_test_model</span><span class="p">(</span><span class="s2">&quot;textbook&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="n">cobra_model</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">open_exchanges</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">layout</span><span class="p">([</span><span class="n">model</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">cobra_model</span><span class="o">.</span><span class="n">medium</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">l</span><span class="o">.</span><span class="n">set_specific_metabolite</span><span class="p">(</span><span class="n">key</span><span class="p">[</span><span class="mi">3</span><span class="p">:],</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.set_specific_metabolite_at_location">
<code class="descname">set_specific_metabolite_at_location</code><span class="sig-paren">(</span><em><span class="n">met</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">location</span><span class="p">:</span> <span class="n">tuple</span></em>, <em><span class="n">amount</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.set_specific_metabolite_at_location" title="Permalink to this definition">¶</a></dt>
<dd><p>set an initial value of a metabolite at a specific spatial location</p>
<p>In contrast to set_specific_metabolite, which sets initial values 
universally over space, this method sets a specific metabolite 
initial value at one location only.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>met</strong><span class="classifier">str</span></dt><dd><p>name of the metabolite</p>
</dd>
<dt><strong>location</strong><span class="classifier">tuple</span></dt><dd><p>a tuple of integers specifying a specific location, e.g. (3,2)</p>
</dd>
<dt><strong>amount</strong><span class="classifier">float</span></dt><dd><p>the initial value for the metabolite at the location, in mmol</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Remember that COMETS locations are zero-ordered.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">layout</span><span class="p">([</span><span class="n">model</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">set_specific_metabolite_at_location</span><span class="p">(</span><span class="s2">&quot;glc__D_e&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mf">0.005</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.set_specific_metabolite_diffusion">
<code class="descname">set_specific_metabolite_diffusion</code><span class="sig-paren">(</span><em><span class="n">met</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">diffusion_constant</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.set_specific_metabolite_diffusion" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the diffusion constant of a specific metabolite</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>met</strong><span class="classifier">str</span></dt><dd><p>name of the metabolite</p>
</dd>
<dt><strong>diffusion_constant</strong><span class="classifier">float</span></dt><dd><p>the diffusion constant, in cm2/s, of the named metabolite</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">layout</span><span class="p">([</span><span class="n">m</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">set_specific_metabolite_diffusion</span><span class="p">(</span><span class="s2">&quot;ac_e&quot;</span><span class="p">,</span> <span class="mf">5.2e-6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">set_specific_metabolite_diffusion</span><span class="p">(</span><span class="s2">&quot;gal_e&quot;</span><span class="p">,</span> <span class="mf">4.e-6</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.set_specific_refresh">
<code class="descname">set_specific_refresh</code><span class="sig-paren">(</span><em><span class="n">met</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">amount</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.set_specific_refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>set the amount to increment a metabolite continuously through time</p>
<p>metabolites can be “refreshed” or “dripped in” during a COMETS 
simulation. This sets the amount added each hour, which is divided
up by the number of time steps. It applies that refresh to all boxes
in space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>met</strong><span class="classifier">str</span></dt><dd><p>name of the metabolite refreshed</p>
</dd>
<dt><strong>amount</strong><span class="classifier">float</span></dt><dd><p>the amount added to (or subtracted from) each box, in mmol / hr.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.set_specific_refresh_at_location">
<code class="descname">set_specific_refresh_at_location</code><span class="sig-paren">(</span><em><span class="n">met</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">location</span><span class="p">:</span> <span class="n">tuple</span></em>, <em><span class="n">amount</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.set_specific_refresh_at_location" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the amount to adjust a metabolite at a specific location in time</p>
<p>Like set_specific_refresh, but for a specific lacation. This 
Method is used to specify how much a metabolite is increased (or 
decreased) each hour in a specific location.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>met</strong><span class="classifier">str</span></dt><dd><p>the name of the metabolite</p>
</dd>
<dt><strong>location</strong><span class="classifier">tuple</span></dt><dd><p>the (x, y) location to adjust, with x and y of type int</p>
</dd>
<dt><strong>amount</strong><span class="classifier">float</span></dt><dd><p>the amount added to (or subtracted from) the box, in mmol / hr</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.set_specific_static">
<code class="descname">set_specific_static</code><span class="sig-paren">(</span><em><span class="n">met</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">amount</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.set_specific_static" title="Permalink to this definition">¶</a></dt>
<dd><p>sets a metabolite to a fixed value in every location</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>met</strong><span class="classifier">str</span></dt><dd><p>name of the metabolite</p>
</dd>
<dt><strong>amount</strong><span class="classifier">float</span></dt><dd><p>the amount, in mmol, that is in each box at each time step</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.set_specific_static_at_location">
<code class="descname">set_specific_static_at_location</code><span class="sig-paren">(</span><em><span class="n">met</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">location</span><span class="p">:</span> <span class="n">tuple</span></em>, <em><span class="n">amount</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.set_specific_static_at_location" title="Permalink to this definition">¶</a></dt>
<dd><p>sets a metabolite to a fixed value at a specific location</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>met</strong><span class="classifier">str</span></dt><dd><p>name of the metabolite</p>
</dd>
<dt><strong>location</strong><span class="classifier">tuple</span></dt><dd><p>the (x, y) location of the fixed metabolite amount. x, y are int</p>
</dd>
<dt><strong>amount</strong><span class="classifier">float</span></dt><dd><p>the amount, in mmol, that is in each box at each time step</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.update_models">
<code class="descname">update_models</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.update_models" title="Permalink to this definition">¶</a></dt>
<dd><p>updates layout properties when models are added / removed</p>
<p>This is usually just called internally. However, if you manually 
change layout.models, then this method should be called to make other
necessary changes.</p>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.write_layout">
<code class="descname">write_layout</code><span class="sig-paren">(</span><em><span class="n">working_dir</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.write_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>writes just the COMETS layout file to the supplied path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>working_dir</strong><span class="classifier">str</span></dt><dd><p>the path to the directory where .current_layout will be written</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.write_model_files">
<code class="descname">write_model_files</code><span class="sig-paren">(</span><em><span class="n">working_dir</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.write_model_files" title="Permalink to this definition">¶</a></dt>
<dd><p>writes each model file</p>
</dd></dl>

<dl class="py method">
<dt id="cometspy.layout.write_necessary_files">
<code class="descname">write_necessary_files</code><span class="sig-paren">(</span><em><span class="n">working_dir</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.layout.write_necessary_files" title="Permalink to this definition">¶</a></dt>
<dd><p>writes the layout and the model files to file</p>
<p>This method is called by comets.run(). Alternatively it may be called
directly if one wishes to inspect comets layout and model files.</p>
<p>A path must be specified if called directly.</p>
<p>Note: the layout file will be called “.current_layout” and therefore
be hidden from file browsers by default.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>working_dir</strong><span class="classifier">str,</span></dt><dd><p>The directory where the files will be written.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-params-class">
<h2>The <code class="docutils literal notranslate"><span class="pre">params</span></code> class<a class="headerlink" href="#the-params-class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="cometspy.params">
<em class="property">class </em><code class="descclassname">cometspy.</code><code class="descname">params</code><span class="sig-paren">(</span><em><span class="n">global_params</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em><span class="n">package_params</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>object storing simulation-related and some default biological parameters</p>
<p>The params object is an essential object needed to start a comets
simulation, along with a layout object containing models. The params 
object stores simulation information such as timeStep and maxCycles, as 
well as many default biological parameters such as defaultKm and 
defaultDiffC (the default metabolite diffusion constant).</p>
<p>All of the parameters are stored in a dictionary called ‘all_params’ and
can either be adjusted directly or using set_param().</p>
<p>When params are written to a COMETS object for COMETS to process, two
files are generated (‘.current_global’ and ‘current_package’)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>global_params</strong><span class="classifier">str, optional</span></dt><dd><p>optional path to an existing ‘global_params’ file to load</p>
</dd>
<dt><strong>package_params</strong><span class="classifier">str, optional</span></dt><dd><p>optional path to an existing ‘package_params’ file to load</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># make a params object and change two params</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cometspy</span> <span class="k">as</span> <span class="nn">c</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">params</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span><span class="o">.</span><span class="n">set_param</span><span class="p">(</span><span class="s2">&quot;timeStep&quot;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span> <span class="c1"># hours</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span><span class="o">.</span><span class="n">set_param</span><span class="p">(</span><span class="s2">&quot;spaceWidth&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span> <span class="c1"># cm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># view all the params</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span><span class="o">.</span><span class="n">show_params</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># access the params directly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span><span class="o">.</span><span class="n">all_params</span> <span class="c1"># this is a dict</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># use a params object in a comets simulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cobra.test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="n">cobra</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">create_test_model</span><span class="p">(</span><span class="s2">&quot;textbook&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">initial_pop</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.e-7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">open_exchanges</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">layout</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">layout</span><span class="p">([</span><span class="n">model</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># normally we&#39;d now alter the media in the layout</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">layout</span><span class="o">.</span><span class="n">add_typical_trace_metabolites</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">layout</span><span class="o">.</span><span class="n">set_specific_metabolite</span><span class="p">(</span><span class="s1">&#39;lcts_e&#39;</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)</span> <span class="c1"># mmol</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">comets</span><span class="p">(</span><span class="n">layout</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>all_params</strong><span class="classifier">dict</span></dt><dd><p>contains every possible param as keys, with their value as the value</p>
</dd>
<dt><strong>params_units</strong><span class="classifier">dict</span></dt><dd><p>dictionary containing the units for each possible parameter</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
</tbody>
</table>
<dl class="py method">
<dt id="cometspy.params.get_param">
<code class="descname">get_param</code><span class="sig-paren">(</span><em><span class="n">name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; object<a class="headerlink" href="#cometspy.params.get_param" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the value associated with the given parameter name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>the name of the parameter whose value is desired</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt>object</dt><dd><p>the type of object depends on the parameter requested</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="cometspy.params.set_param">
<code class="descname">set_param</code><span class="sig-paren">(</span><em><span class="n">name</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.params.set_param" title="Permalink to this definition">¶</a></dt>
<dd><p>alters a specific parameter value</p>
<p>See show_params() for a list of possible parameters to adjust.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>the name of a specific parameter to change</p>
</dd>
<dt><strong>value</strong><span class="classifier">variable</span></dt><dd><p>the type of the value depends on the parameter.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">cometspy</span><span class="o">.</span><span class="n">params</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">set_param</span><span class="p">(</span><span class="s2">&quot;writeBiomassLog&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">set_param</span><span class="p">(</span><span class="s2">&quot;maxCycles&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">set_param</span><span class="p">(</span><span class="s2">&quot;BiomassLogRate&quot;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">set_param</span><span class="p">(</span><span class="s2">&quot;defaultVmax&quot;</span><span class="p">,</span> <span class="mf">10.24</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.params.show_params">
<code class="descname">show_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.params.show_params" title="Permalink to this definition">¶</a></dt>
<dd><p>utility function to show all possible parameters and their units</p>
</dd></dl>

<dl class="py method">
<dt id="cometspy.params.write_params">
<code class="descname">write_params</code><span class="sig-paren">(</span><em><span class="n">out_glb</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">out_pkg</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.params.write_params" title="Permalink to this definition">¶</a></dt>
<dd><p>writes params data to the specified files</p>
<p>Usually this is only used internally, though a user could use it to 
pre-generate params files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>out_glb</strong><span class="classifier">str</span></dt><dd><p>the path and name of the ‘global’ parameters file to be written</p>
</dd>
<dt><strong>out_pkg</strong><span class="classifier">str</span></dt><dd><p>the path and name of the ‘package’ parameters file to be written</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-comets-class">
<h2>The <code class="docutils literal notranslate"><span class="pre">comets</span></code> class<a class="headerlink" href="#the-comets-class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="cometspy.comets">
<em class="property">class </em><code class="descclassname">cometspy.</code><code class="descname">comets</code><span class="sig-paren">(</span><em><span class="n">layout</span></em>, <em><span class="n">parameters</span></em>, <em><span class="n">relative_dir</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.comets" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>the main simulation object to run COMETS</p>
<p>The comets class stores a previously-made layout and params, and 
interacts with COMETS to run the simulation. It also stores any
generated output, which could include total_biomass, biomass, 
media, or fluxes, as set in the params object. std_out from the COMETS
simulation is saved in the attribute run_output and can be useful to 
examine to debug errors.</p>
<p>When creating a comets object, the optional relative_dir path is useful
when one is to run multiple simulations simultaneously, otherwise 
temporary files may overwrite each other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>layout</strong><span class="classifier">layout</span></dt><dd><p>a cometspy.layout containing models and media information</p>
</dd>
<dt><strong>parameters</strong><span class="classifier">params</span></dt><dd><p>a cometspy.params containing specified simulation parameters</p>
</dd>
<dt><strong>relative_dir</strong><span class="classifier">str, optional</span></dt><dd><p>a directory to place temporary simulation files.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># assume layout and params have already been created</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and cometspy was imported as c</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">comets</span><span class="p">(</span><span class="n">layout</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="c1"># this could take from seconds to hours</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sim</span><span class="o">.</span><span class="n">run_output</span><span class="p">)</span> <span class="c1"># to see the std_out</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">total_biomass</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;cycle&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># assume params.all_params[&quot;writeBiomassLog&quot;] == True, and that</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># params.all_params[&quot;BiomassLogRate&quot;] = 1000, and that</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># params.all_params[&quot;maxCycles&quot;] = 5000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">get_biomass_image</span><span class="p">(</span><span class="n">layout</span><span class="o">.</span><span class="n">models</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="mi">4000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">im</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">im</span><span class="p">))</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>layout</strong><span class="classifier">cometspy.layout</span></dt><dd><p>the layout containing cometspy.model[s] and media information</p>
</dd>
<dt><strong>params</strong><span class="classifier">cometspy.params</span></dt><dd><p>the params containing simulation and default biological parameters</p>
</dd>
<dt><strong>working_dir</strong><span class="classifier">str</span></dt><dd><p>the directory at which to save temporary sim files</p>
</dd>
<dt><strong>GUROBI_HOME</strong><span class="classifier">str</span></dt><dd><p>the directory where GUROBI exists on the system</p>
</dd>
<dt><strong>COMETS_HOME</strong><span class="classifier">str</span></dt><dd><p>the directory where COMETS exists on the system</p>
</dd>
<dt><strong>VERSION</strong><span class="classifier">str</span></dt><dd><p>the version of comets, read from the files at COMETS_HOME</p>
</dd>
<dt><strong>classpath_pieces</strong><span class="classifier">dict</span></dt><dd><p>classpath separated into library name (key) and location (value)</p>
</dd>
<dt><strong>JAVA_CLASSPATH</strong><span class="classifier">str</span></dt><dd><p>a generated (overwritable) string containing the java classpath</p>
</dd>
<dt><strong>run_output</strong><span class="classifier">str</span></dt><dd><p>generated object containing text from COMETS sim’s std_out</p>
</dd>
<dt><strong>run_errors</strong><span class="classifier">str</span></dt><dd><p>generated object containing text from COMETS sim’s std_err</p>
</dd>
<dt><strong>total_biomass</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>generated object containing total biomass from simulation</p>
</dd>
<dt><strong>biomass</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>generated object containing spatially-explicit biomass from sim</p>
</dd>
<dt><strong>specific_media</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>generated object containing information on selected media from sim</p>
</dd>
<dt><strong>media</strong><span class="classifier">pandas.Dataframe</span></dt><dd><p>generated object containing spatially-explicit media from sim</p>
</dd>
<dt><strong>fluxes_by_species</strong><span class="classifier">dict{model_id</span></dt><dd><p>generated object containing each species’ spatial-explicit fluxes</p>
</dd>
<dt><strong>genotypes</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>generated object containing genotypes if an evolution sim was run</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
</tbody>
</table>
<dl class="py method">
<dt id="cometspy.comets.get_biomass_image">
<code class="descname">get_biomass_image</code><span class="sig-paren">(</span><em><span class="n">model_id</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">cycle</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; numpy.array<a class="headerlink" href="#cometspy.comets.get_biomass_image" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an image of biomass concentrations at a given cycle</p>
<p>This will only work if biomass was saved at the current cycle. This 
requires the following parameters to have been set:
&gt;&gt;&gt; params.set_param(“writeBiomassLog”,True)
&gt;&gt;&gt; params.set_param(“BiomassLogRate”, n) # n is in cycles</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>model_id</strong><span class="classifier">str</span></dt><dd><p>the id of the model to get biomass data on</p>
</dd>
<dt><strong>cycle</strong><span class="classifier">int</span></dt><dd><p>the cycle to get the biomass data</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt>A 2d numpy array which can be visualized like an image.</dt><dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># assume sim.params.all_params[&quot;BiomassLogRate&quot;] = 100 and that</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># sim.params.all_params[&quot;maxCycles&quot;] = 1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">get_biomass_image</span><span class="p">(</span><span class="s2">&quot;iJO1366&quot;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span> <span class="c1"># e.g. the ecoli model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span> <span class="c1"># may need to be installed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.comets.get_flux_image">
<code class="descname">get_flux_image</code><span class="sig-paren">(</span><em><span class="n">model_id</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">reaction_id</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">cycle</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; numpy.array<a class="headerlink" href="#cometspy.comets.get_flux_image" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a 2d numpy array showing fluxes at a given cycle</p>
<p>This will only work if flux was saved at the current cycle. This 
requires the following parameters to have been set:</p>
<blockquote>
<div>params.set_param(“writeFluxLog”,True)
params.set_param(“FluxLogRate”, n) # n is in cycles</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>model_id</strong><span class="classifier">str</span></dt><dd><p>the id of the model about which to get fluxes</p>
</dd>
<dt><strong>reaction_id</strong><span class="classifier">str</span></dt><dd><p>the id of the reaction about which to get fluxes</p>
</dd>
<dt><strong>cycle</strong><span class="classifier">int</span></dt><dd><p>the cycle at which to get fluxes</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt>a 2d numpy array which can be visualized like an image</dt><dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># assume sim.params.all_params[&quot;FluxLogRate&quot;] = 100 and that</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># sim.params.all_params[&quot;maxCycles&quot;] = 1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># assume a model used was iJO1366</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">get_flux_image</span><span class="p">(</span><span class="s2">&quot;iJO1366&quot;</span><span class="p">,</span> <span class="s2">&quot;EX_ac_e&quot;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span> <span class="c1"># may need to be installed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.comets.get_metabolite_image">
<code class="descname">get_metabolite_image</code><span class="sig-paren">(</span><em><span class="n">met</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">cycle</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; numpy.array<a class="headerlink" href="#cometspy.comets.get_metabolite_image" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an image of metabolite concentrations at a given cycle</p>
<p>This will only work if media was saved at the current cycle. This 
requires the following parameters to have been set:</p>
<blockquote>
<div>params.set_param(“writeMediaLog”,True)
params.set_param(“MediaLogRate”, n) # n is in cycles</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>met</strong><span class="classifier">str</span></dt><dd><p>the name of the metabolite</p>
</dd>
<dt><strong>cycle</strong><span class="classifier">int</span></dt><dd><p>the cycle to get the metabolite data</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt>A 2d numpy array which can be visualized like an image.</dt><dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>There may be a bug where cycles are + 1 what they should be. We will
fix this soon but for now be aware you may need to +1 your desired
cycle. The bug does not affect anything within the simulation.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># assume sim.params.all_params[&quot;MediaLogRate&quot;] = 100 and that</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># sim.params.all_params[&quot;maxCycles&quot;] = 1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">get_metabolite_image</span><span class="p">(</span><span class="s2">&quot;ac_e&quot;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span> <span class="c1"># may need to be installed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.comets.run">
<code class="descname">run</code><span class="sig-paren">(</span><em><span class="n">delete_files</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.comets.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run a COMETS simulation</p>
<p>This runs the COMETS simulation specified by the layout and params
objects supplied to this comets object. It creates the files needed
for COMETS into the current directory or the optional one specified
when this object was created.</p>
<p>Once complete (or if an error has occurred), this tries to read 
simulation logs including data, as well as the std_out in the
run_output attribute.</p>
<p>If the optional delete_files is set to False, then temporary files and 
data log files are not deleted. They are deleted by default.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>delete_files</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to delete simulation and log files. The default is True.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">comets</span><span class="p">(</span><span class="n">layout</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">delete_files</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sim</span><span class="o">.</span><span class="n">run_output</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sim</span><span class="o">.</span><span class="n">total_biomass</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="cometspy.comets.set_classpath">
<code class="descname">set_classpath</code><span class="sig-paren">(</span><em><span class="n">libraryname</span><span class="p">:</span> <span class="n">str</span></em>, <em><span class="n">path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cometspy.comets.set_classpath" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the full path to a required specified java library</p>
<p>This can be used to set non-default classpaths. Note that currently,
it does not work for windows, because windows runs COMETS slightly
differently than Unix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>libraryname</strong><span class="classifier">str</span></dt><dd><p>the library for which the new path is being supplied.</p>
</dd>
<dt><strong>path</strong><span class="classifier">str</span></dt><dd><p>the full path, including file name, to the library</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">comets</span><span class="p">(</span><span class="n">layout</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">set_classpath</span><span class="p">(</span><span class="s2">&quot;jmatio&quot;</span><span class="p">,</span> <span class="s2">&quot;/opt/jmatio/jmatio.jar&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-utils-class">
<h2>The <code class="docutils literal notranslate"><span class="pre">utils</span></code> class<a class="headerlink" href="#the-utils-class" title="Permalink to this headline">¶</a></h2>
<dl class="py attribute">
<dt id="cometspy.utils">
<code class="descclassname">cometspy.</code><code class="descname">utils</code><a class="headerlink" href="#cometspy.utils" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#cometspy.utils" title="cometspy.utils"><code class="xref py py-class docutils literal notranslate"><span class="pre">cometspy.utils</span></code></a></p>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, D Bajic, J Chacon, J Vila.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>